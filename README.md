# 🐔 面向乌骨鸡智慧养殖的鸡舍监控服务系统

本项目围绕 **“面向乌骨鸡智慧养殖的鸡舍监控服务”** 的核心需求，完成了从 **原始 Python 单线程程序** 到 **高性能 Go 并发服务架构** 的系统性重构。  
项目以 **提升服务并发能力与图像处理效率** 为目标，融合了 **后端并发重构、级联式视觉算法优化** 与 **多 GPU 并行加速** 等关键技术，取得了显著的阶段性成果。

---

## 🚀 项目亮点

### ⚙️ 高性能并发服务架构
为解决原始单线程处理模式导致的性能瓶颈，项目采用 **Go 协程（Goroutine）** 对系统后端进行彻底重构：

- 将视频流处理流程拆解为独立并发任务；
- 使用 **缓冲通道（Buffered Channel）** 与 **任务调度机制** 实现高效异步通信；
- 构建多路视频流的并行处理框架；
- 通过 **微服务化封装 Python 模型推理部分**，实现与主服务的解耦。

> ✅ 结果：系统吞吐量、稳定性与可维护性大幅提升，单机即可支持多路视频流实时处理。

---

### 🧠 级联式 “YSY” 视觉模型与隐私保护

传统矩形框打码方式在目标（如人员与乌骨鸡）接近时常导致识别干扰。  
为解决该问题，我们设计了创新的 **级联式 YSY 模型**，实现了隐私保护与检测性能的双重优化。

#### 模型工作流程：
1. **快速人体定位：** 轻量化模型检测人体位置，为后续处理提供空间指引；  
2. **精细化语义分割：** 使用高精度 **SGHM 模型** 对人体进行像素级轮廓分割与屏蔽；  
3. **净化图像检测：** 在“净化”后的图像中进行乌骨鸡检测，消除遮挡干扰。

> 🎯 优势：隐私屏蔽范围严格限定在人体像素区域内，既保护隐私，又提升目标识别准确性。

---

### ⚡ 系统性能量化评估

| 指标 | 原始系统 (Python) | 重构系统 (Go + 多GPU) | 提升倍数 |
|------|------------------|----------------------|-----------|
| 单张图像端到端延迟 | 9.66 秒 | **1.25 秒** | 🚀 **7.7×** |
| 吞吐量 | 单路视频流 | 多路并发视频流 | ✅ 支持多流 |
| 检测模型 | YOLOv11m + SGHM | YOLOv11m + SGHM | 精度与召回率显著提升 |

> 💡 实验结果表明：在多 GPU 并行部署环境下，系统在复杂场景中依旧保持高效稳定运行，充分验证了架构与算法优化的有效性。

---

## 🧩 技术栈

| 模块 | 技术 |
|------|------|
| 后端架构 | Go (Goroutine, Channel, Scheduler) |
| 推理服务 | Python (FastAPI, PyTorch) |
| 并行加速 | Multi-GPU (CUDA, PyTorch DDP) |
| 视觉算法 | YOLOv11m, SGHM, 自研级联式 YSY 模型 |
| 通信机制 | gRPC / RESTful API |
| 部署方式 | Docker + GPU Container |

---
